# Роли и иерархия доступа в MyUnion Dashboard

## Иерархия ролей (от высшей к низшей)

### 1. SUPER_ADMIN (Супер-администратор)
- **Доступ:** Полный доступ ко всем функциям системы
- **Может:** 
  - Управлять всеми организациями
  - Просматривать всех пользователей системы
  - Создавать/редактировать/удалять организации
  - Назначать председателей организаций
  - Просматривать все заявления и документы
  - Управлять системными настройками
- **Ограничения:** Нет

### 2. FEDERAL_CHAIRMAN (Федеральный председатель)
- **Доступ:** Управление федеральными организациями
- **Может:**
  - Управлять федеральными организациями
  - Просматривать членов федеральных организаций
  - Одобрять/отклонять заявления федерального уровня
  - Создавать региональные организации
  - Назначать региональных председателей
- **Ограничения:** Только федеральные организации

### 3. REGIONAL_CHAIRMAN (Региональный председатель)
- **Доступ:** Управление региональными организациями
- **Может:**
  - Управлять региональными организациями
  - Просматривать членов региональных организаций
  - Одобрять/отклонять заявления регионального уровня
  - Создавать местные организации
  - Назначать местных председателей
- **Ограничения:** Только региональные организации

### 4. LOCAL_CHAIRMAN (Местный председатель)
- **Доступ:** Управление местными организациями
- **Может:**
  - Управлять местными организациями
  - Просматривать членов местных организаций
  - Одобрять/отклонять заявления местного уровня
  - Создавать первичные организации
  - Назначать первичных председателей
- **Ограничения:** Только местные организации

### 5. PRIMARY_CHAIRMAN (Первичный председатель)
- **Доступ:** Управление первичными организациями
- **Может:**
  - Управлять своей первичной организацией
  - Просматривать членов своей организации
  - Одобрять/отклонять заявления в свою организацию
  - Принимать новых членов
- **Ограничения:** Только своя первичная организация

### 6. PRIMARY_MEMBER (Член профсоюза)
- **Доступ:** Базовый доступ к личному кабинету
- **Может:**
  - Просматривать свои заявления
  - Скачивать свои документы
  - Обновлять личную информацию
  - Просматривать новости своей организации
- **Ограничения:** Только собственные данные

## Структура организаций

### Типы организаций:
1. **FEDERAL** - Федеральные организации (общероссийские)
2. **REGIONAL** - Региональные организации (областные, краевые, республиканские)
3. **LOCAL** - Местные организации (городские, районные)
4. **PRIMARY** - Первичные организации (на уровне предприятия/учреждения)

### Иерархия организаций:
```
FEDERAL (Федеральная)
├── REGIONAL (Региональная 1)
│   ├── LOCAL (Местная 1.1)
│   │   ├── PRIMARY (Первичная 1.1.1)
│   │   └── PRIMARY (Первичная 1.1.2)
│   └── LOCAL (Местная 1.2)
│       └── PRIMARY (Первичная 1.2.1)
└── REGIONAL (Региональная 2)
    └── LOCAL (Местная 2.1)
        └── PRIMARY (Первичная 2.1.1)
```

## Правила доступа к данным

### Члены профсоюза:
- **SUPER_ADMIN:** Видит всех членов всех организаций
- **FEDERAL_CHAIRMAN:** Видит членов федеральных и подчиненных организаций
- **REGIONAL_CHAIRMAN:** Видит членов региональных и подчиненных организаций
- **LOCAL_CHAIRMAN:** Видит членов местных и подчиненных организаций
- **PRIMARY_CHAIRMAN:** Видит только членов своей первичной организации
- **PRIMARY_MEMBER:** Видит только себя

### Заявления на вступление:
- **SUPER_ADMIN:** Видит все заявления
- **Председатели:** Видят заявления в свои организации и подчиненные
- **Члены:** Видят только свои заявления

### Документы:
- **SUPER_ADMIN:** Доступ ко всем документам
- **Председатели:** Доступ к документам своих организаций
- **Члены:** Доступ только к своим документам

## Редиректы и дашборды

### После входа пользователь перенаправляется на:
- **SUPER_ADMIN:** `/dashboard/super-admin` (панель супер-администратора)
- **FEDERAL_CHAIRMAN:** `/dashboard/admin-management` (управление федеральными организациями)
- **REGIONAL_CHAIRMAN:** `/dashboard/admin-management` (управление региональными организациями)
- **LOCAL_CHAIRMAN:** `/dashboard/admin-management` (управление местными организациями)
- **PRIMARY_CHAIRMAN:** `/dashboard/admin-management` (управление первичной организацией)
- **PRIMARY_MEMBER:** `/dashboard/profile` (личный кабинет)

### Доступные разделы в меню:
- **SUPER_ADMIN:** Все разделы
- **Председатели:** Разделы в соответствии с уровнем доступа
- **Члены:** Ограниченный набор разделов (профиль, документы, новости)

## API Endpoints и права доступа

### /api/members/all
- **SUPER_ADMIN:** Все члены
- **Председатели:** Члены своих организаций + подчиненные
- **Члены:** 403 Forbidden

### /api/membership/application
- **SUPER_ADMIN:** Все заявления
- **Председатели:** Заявления в свои организации
- **Члены:** Только свои заявления

### /api/admin/users
- **SUPER_ADMIN:** Все пользователи
- **Председатели:** Пользователи своих организаций
- **Члены:** 403 Forbidden
